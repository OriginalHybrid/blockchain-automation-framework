apiVersion: flux.weave.works/v1beta1
kind: HelmRelease
metadata:
  name: channel-ch
  namespace: ch-net
  annotations:
    flux.weave.works/automated: "false"
spec:
  releaseName: channel-ch
  chart:
    git: git@github.com:himanshulalarya/blockchain-automation-framework.git
    ref: new
    path: platforms/hyperledger-fabric/charts/create_channel   
  values:
    metadata:
      namespace: ch-net
      images:
        fabrictools: hyperledger/fabric-tools:2.0.0
        alpineutils: index.docker.io/hyperledgerlabs/alpine-utils:1.0
    peer:
      name: peer0
      address: peer0.ch-net:7051
      localmspid: chMSP
      loglevel: debug
      tlsstatus: true

    vault:
      role: vault-role
      address: http://vault.internal.dev2.aws.blockchaincloudpoc-develop.com:20001
      authpath: ch-net-auth
      adminsecretprefix: secret/crypto/peerOrganizations/ch-net/users/admin
      orderersecretprefix: secret/crypto/peerOrganizations/ch-net/orderer 
      serviceaccountname: vault-auth
      imagesecretname: regcred

    channel:
      name: allchannel
    orderer:
      address: orderer3.hf.dev.aws.blockchaincloudpoc-develop.com:8443
    channeltx: |-
      Cu0MChgKFggCGgYIpKX6+QUiCmFsbGNoYW5uZWwS0AwKzQwKCmFsbGNoYW5uZWwSNxIlCgtBcHBs
      aWNhdGlvbhIWEgkKBWNoTVNQEgASCQoFbWhNU1ASABoOCgpDb25zb3J0aXVtEgAahQwS2QsKC0Fw
      cGxpY2F0aW9uEskLCAESCQoFY2hNU1ASABIJCgVtaE1TUBIAGrMJCgRBQ0xzEqoJEp8JCjgKFmxz
      Y2MvR2V0RGVwbG95bWVudFNwZWMSHgocL0NoYW5uZWwvQXBwbGljYXRpb24vUmVhZGVycwo3ChVs
      c2NjL0dldENoYWluY29kZURhdGESHgocL0NoYW5uZWwvQXBwbGljYXRpb24vUmVhZGVycwo1ChNx
      c2NjL0dldEJsb2NrQnlUeElEEh4KHC9DaGFubmVsL0FwcGxpY2F0aW9uL1JlYWRlcnMKMwoRcXNj
      Yy9HZXRDaGFpbkluZm8SHgocL0NoYW5uZWwvQXBwbGljYXRpb24vUmVhZGVycwo/Ch1jc2NjL1Np
      bXVsYXRlQ29uZmlnVHJlZVVwZGF0ZRIeChwvQ2hhbm5lbC9BcHBsaWNhdGlvbi9SZWFkZXJzCjsK
      GXBlZXIvQ2hhaW5jb2RlVG9DaGFpbmNvZGUSHgocL0NoYW5uZWwvQXBwbGljYXRpb24vUmVhZGVy
      cwpBCh9fbGlmZWN5Y2xlL0NoZWNrQ29tbWl0UmVhZGluZXNzEh4KHC9DaGFubmVsL0FwcGxpY2F0
      aW9uL1dyaXRlcnMKNQoTcXNjYy9HZXRCbG9ja0J5SGFzaBIeChwvQ2hhbm5lbC9BcHBsaWNhdGlv
      bi9SZWFkZXJzCi4KDHBlZXIvUHJvcG9zZRIeChwvQ2hhbm5lbC9BcHBsaWNhdGlvbi9Xcml0ZXJz
      CkYKJF9saWZlY3ljbGUvUXVlcnlDaGFpbmNvZGVEZWZpbml0aW9ucxIeChwvQ2hhbm5lbC9BcHBs
      aWNhdGlvbi9SZWFkZXJzCjQKEmNzY2MvR2V0Q29uZmlnVHJlZRIeChwvQ2hhbm5lbC9BcHBsaWNh
      dGlvbi9SZWFkZXJzCjkKF3FzY2MvR2V0VHJhbnNhY3Rpb25CeUlEEh4KHC9DaGFubmVsL0FwcGxp
      Y2F0aW9uL1JlYWRlcnMKNwoVcXNjYy9HZXRCbG9ja0J5TnVtYmVyEh4KHC9DaGFubmVsL0FwcGxp
      Y2F0aW9uL1JlYWRlcnMKNQoTY3NjYy9HZXRDb25maWdCbG9jaxIeChwvQ2hhbm5lbC9BcHBsaWNh
      dGlvbi9SZWFkZXJzCkYKJF9saWZlY3ljbGUvQ29tbWl0Q2hhaW5jb2RlRGVmaW5pdGlvbhIeChwv
      Q2hhbm5lbC9BcHBsaWNhdGlvbi9Xcml0ZXJzCjUKE2V2ZW50L0ZpbHRlcmVkQmxvY2sSHgocL0No
      YW5uZWwvQXBwbGljYXRpb24vUmVhZGVycwotCgtldmVudC9CbG9jaxIeChwvQ2hhbm5lbC9BcHBs
      aWNhdGlvbi9SZWFkZXJzCkUKI19saWZlY3ljbGUvUXVlcnlDaGFpbmNvZGVEZWZpbml0aW9uEh4K
      HC9DaGFubmVsL0FwcGxpY2F0aW9uL1JlYWRlcnMKQAoebHNjYy9HZXRJbnN0YW50aWF0ZWRDaGFp
      bmNvZGVzEh4KHC9DaGFubmVsL0FwcGxpY2F0aW9uL1JlYWRlcnMKNgoUbHNjYy9DaGFpbmNvZGVF
      eGlzdHMSHgocL0NoYW5uZWwvQXBwbGljYXRpb24vUmVhZGVycxoGQWRtaW5zGiQKDENhcGFiaWxp
      dGllcxIUEgoKCAoEVjJfMBIAGgZBZG1pbnMiIgoHUmVhZGVycxIXEg0IAxIJCgdSZWFkZXJzGgZB
      ZG1pbnMiIgoHV3JpdGVycxIXEg0IAxIJCgdXcml0ZXJzGgZBZG1pbnMiIgoGQWRtaW5zEhgSDggD
      EgoKBkFkbWlucxACGgZBZG1pbnMiMwoUTGlmZWN5Y2xlRW5kb3JzZW1lbnQSGxIRCAMSDQoLRW5k
      b3JzZW1lbnQaBkFkbWlucyIqCgtFbmRvcnNlbWVudBIbEhEIAxINCgtFbmRvcnNlbWVudBoGQWRt
      aW5zKgZBZG1pbnMaJwoKQ29uc29ydGl1bRIZEhcKFVN1cHBseUNoYWluQ29uc29ydGl1bQ==